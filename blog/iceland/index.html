

<!DOCTYPE html>
<!-- hi future friend -->
<head>
  <!-- FONTS -->
  <link rel="stylesheet" type="text/css" href="../blog.css">
  <!-- META -->
  <meta content='Armaan Sood' name='author'/>
  <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
  <title>Iceland</title>
  <meta name="viewport" content="width=1000">
  <!-- CSS -->
    </meta>
</head>

<body expr:class='&quot;loading&quot; + data:blog.mobileClass'>
  <!-- CONTENT -->
  <div class='main'>
    <article>
      <a class='return' href='../index.html'>Blog</a>
      <h1>Photos from Iceland</h1>
	  <p>I was in Iceland from 9/15/2018 to 9/24/2018 and traveled around the island in a rental car. I have over 2000 photos of the trip, but here are some of my favorites.</p>

	  <hr>
	  <div id="images"></div>
	  
	  <script>
	  // create images array
let allImages = [];
let lowQualLoadedCount = 0;

allImages.push({
        lowqual: `compressed/33.jpg`,
        highqual: `photos/33.jpg`
    })

for (let i = 1; i < 116; i++) {
	if (i != 33 && i != 2) {
    allImages.push({
        lowqual: `compressed/${i}.jpg`,
        highqual: `photos/${i}.jpg`
    })
	}
}

// get a <div id="images"></div> to append images to later
let allImagesDiv = document.getElementById('images');

// startFetchingLargerImages will start the process of fetching and replacing large images
let startFetchingLargerImages = () => {
    allImages.forEach((d, i) => {
        let fullImgLink = d.highqual;
        let betterImageToAppend = new Image();
        betterImageToAppend.src = fullImgLink;
        betterImageToAppend.className = "test";
        betterImageToAppend.onload = () => {
            let divPointer = document.getElementById(`image-${i}`);
            divPointer.removeChild(divPointer.firstChild);
            divPointer.appendChild(betterImageToAppend);
        }
    })
}

// SetLowQualLoaded sets allImages at index i to have lowQualLoaded to be true (does nothing)
// if the lowQualLoadedCount is equal to allImages.length, then it starts to fetch the larger images.
// This makes it so that the larger images are only fetched after all the low quality images are loaded.
let setLowQualLoaded = (i) => {
    allImages[i].lowQualLoaded = true; // might be useful later
    lowQualLoadedCount++;
    console.log(lowQualLoadedCount);

    if (lowQualLoadedCount >= allImages.length) {
        console.log("startingtoFetch")
        startFetchingLargerImages();
    }
}

// for every image...
allImages.forEach((d, i) => {
    // get image links
    let compressedImgLink = d.lowqual;

    // create div to place image inside (easier to replace)
    let div = document.createElement('div');
    div.id = `image-${i}`;

    let imageToAppend = document.createElement('img');
    imageToAppend.src = compressedImgLink;
    imageToAppend.className = "test";
    imageToAppend.onload = () => {
        setLowQualLoaded(i);
    }

    div.appendChild(imageToAppend);
    allImagesDiv.appendChild(div)
})
	  </script>
	 <!--  <div id="images"></div>
     <img src='photos/1.jpg'  width=100%>
      <img src='photos/3.jpg' class='padding' width=100%>
      <img src='photos/4.jpg' class='padding' width=100%>
      <img src='photos/5.jpg' class='padding' width=100%>
      <img src='photos/6.jpg' class='padding' width=100%>
      <img src='photos/7.jpg' class='padding' width=100%>
      <img src='photos/8.jpg' class='padding' width=100%>
      <img src='photos/9.jpg' class='padding' width=100%>
      <img src='photos/10.jpg' class='padding' width=100%>
      <img src='photos/11.jpg' class='padding' width=100%>
      <img src='photos/12.jpg' class='padding' width=100%>
      <img src='photos/13.jpg' class='padding' width=100%>
      <img src='photos/14.jpg' class='padding' width=100%>
      <img src='photos/15.jpg' class='padding' width=100%>
      <img src='photos/16.jpg' class='padding' width=100%>
      <img src='photos/17.jpg' class='padding' width=100%>
      <img src='photos/18.jpg' class='padding' width=100%>
      <img src='photos/19.jpg' class='padding' width=100%>
      <img src='photos/20.jpg' class='padding' width=100%>
      <img src='photos/21.jpg' class='padding' width=100%>
      <img src='photos/22.jpg' class='padding' width=100%>
      <img src='photos/23.jpg' class='padding' width=100%>
      <img src='photos/24.jpg' class='padding' width=100%>
      <img src='photos/25.jpg' class='padding' width=100%>
      <img src='photos/26.jpg' class='padding' width=100%>
      <img src='photos/27.jpg' class='padding' width=100%>
      <img src='photos/28.jpg' class='padding' width=100%>
      <img src='photos/29.jpg' class='padding' width=100%>
      <img src='photos/30.jpg' class='padding' width=100%>
      <img src='photos/31.jpg' class='padding' width=100%>
      <img src='photos/32.jpg' class='padding' width=100%>
      <img src='photos/33.jpg' class='padding' width=100%>
      <img src='photos/34.jpg' class='padding' width=100%>
      <img src='photos/35.jpg' class='padding' width=100%>
      <img src='photos/36.jpg' class='padding' width=100%>
      <img src='photos/37.jpg' class='padding' width=100%>
      <img src='photos/38.jpg' class='padding' width=100%>
      <img src='photos/39.jpg' class='padding' width=100%>
      <img src='photos/40.jpg' class='padding' width=100%>
      <img src='photos/41.jpg' class='padding' width=100%>
      <img src='photos/42.jpg' class='padding' width=100%>
      <img src='photos/43.jpg' class='padding' width=100%>
      <img src='photos/44.jpg' class='padding' width=100%>
      <img src='photos/45.jpg' class='padding' width=100%>
      <img src='photos/46.jpg' class='padding' width=100%>
      <img src='photos/47.jpg' class='padding' width=100%>
      <img src='photos/48.jpg' class='padding' width=100%>
      <img src='photos/49.jpg' class='padding' width=100%>
      <img src='photos/50.jpg' class='padding' width=100%>
      <img src='photos/51.jpg' class='padding' width=100%>
      <img src='photos/52.jpg' class='padding' width=100%>
      <img src='photos/53.jpg' class='padding' width=100%>
      <img src='photos/54.jpg' class='padding' width=100%>
      <img src='photos/55.jpg' class='padding' width=100%>
      <img src='photos/56.jpg' class='padding' width=100%>
      <img src='photos/57.jpg' class='padding' width=100%>
      <img src='photos/58.jpg' class='padding' width=100%>
      <img src='photos/59.jpg' class='padding' width=100%>
      <img src='photos/60.jpg' class='padding' width=100%>
      <img src='photos/61.jpg' class='padding' width=100%>
      <img src='photos/62.jpg' class='padding' width=100%>
      <img src='photos/63.jpg' class='padding' width=100%>
      <img src='photos/64.jpg' class='padding' width=100%>
      <img src='photos/65.jpg' class='padding' width=100%>
      <img src='photos/66.jpg' class='padding' width=100%>
      <img src='photos/67.jpg' class='padding' width=100%>
      <img src='photos/68.jpg' class='padding' width=100%>
      <img src='photos/69.jpg' class='padding' width=100%>
      <img src='photos/70.jpg' class='padding' width=100%>
      <img src='photos/71.jpg' class='padding' width=100%>
      <img src='photos/72.jpg' class='padding' width=100%>
      <img src='photos/73.jpg' class='padding' width=100%>
      <img src='photos/74.jpg' class='padding' width=100%>
      <img src='photos/75.jpg' class='padding' width=100%>
      <img src='photos/76.jpg' class='padding' width=100%>
      <img src='photos/77.jpg' class='padding' width=100%>
      <img src='photos/78.jpg' class='padding' width=100%>
      <img src='photos/79.jpg' class='padding' width=100%>
      <img src='photos/80.jpg' class='padding' width=100%>
      <img src='photos/81.jpg' class='padding' width=100%>
      <img src='photos/82.jpg' class='padding' width=100%>
      <img src='photos/83.jpg' class='padding' width=100%>
      <img src='photos/84.jpg' class='padding' width=100%>
      <img src='photos/85.jpg' class='padding' width=100%>
      <img src='photos/86.jpg' class='padding' width=100%>
      <img src='photos/87.jpg' class='padding' width=100%>
      <img src='photos/88.jpg' class='padding' width=100%>
      <img src='photos/89.jpg' class='padding' width=100%>
      <img src='photos/90.jpg' class='padding' width=100%>
      <img src='photos/91.jpg' class='padding' width=100%>
      <img src='photos/92.jpg' class='padding' width=100%>
      <img src='photos/93.jpg' class='padding' width=100%>
      <img src='photos/94.jpg' class='padding' width=100%>
      <img src='photos/95.jpg' class='padding' width=100%>
      <img src='photos/96.jpg' class='padding' width=100%>
      <img src='photos/97.jpg' class='padding' width=100%>
      <img src='photos/98.jpg' class='padding' width=100%>
      <img src='photos/99.jpg' class='padding' width=100%>
      <img src='photos/100.jpg' class='padding' width=100%>
      <img src='photos/101.jpg' class='padding' width=100%>
      <img src='photos/102.jpg' class='padding' width=100%>
      <img src='photos/103.jpg' class='padding' width=100%>
      <img src='photos/104.jpg' class='padding' width=100%>
      <img src='photos/105.jpg' class='padding' width=100%>
      <img src='photos/106.jpg' class='padding' width=100%>
      <img src='photos/107.jpg' class='padding' width=100%>
      <img src='photos/108.jpg' class='padding' width=100%>
      <img src='photos/109.jpg' class='padding' width=100%>
      <img src='photos/110.jpg' class='padding' width=100%>
      <img src='photos/111.jpg' class='padding' width=100%>
      <img src='photos/112.jpg' class='padding' width=100%>
      <img src='photos/113.jpg' class='padding' width=100%>
      <img src='photos/114.jpg' class='padding' width=100%>
      <img src='photos/115.jpg' class='padding' width=100%> -->

    </article>
</body>
</html>

